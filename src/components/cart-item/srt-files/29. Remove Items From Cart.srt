1
00:00:00,970 --> 00:00:08,110
Now in the last lesson we created our Remove button with our X icon winking.

2
00:00:08,140 --> 00:00:16,220
Now we actually need to create the functionality in our redux code in order to clear this item out now.

3
00:00:16,220 --> 00:00:23,480
This is actually going to be very similar to what we did from a redux standpoint.

4
00:00:23,690 --> 00:00:30,200
As far as when we added items and you can imagine it must be similar because what we're doing is we're

5
00:00:30,200 --> 00:00:40,490
trying to update our cart items reducer value inside of our cart reducer so that we clear out an item

6
00:00:40,580 --> 00:00:42,550
regardless of its quantity.

7
00:00:42,590 --> 00:00:50,870
When ever we hit this x button so of course we now know that we need to dispatch a new action that will

8
00:00:50,870 --> 00:00:59,240
clear out that item based on an item that we pass in as the payload for this new action that we're trying

9
00:00:59,240 --> 00:01:03,690
to write so let's actually do this.

10
00:01:03,720 --> 00:01:08,570
Now we already know what we need to do from a redux standpoint.

11
00:01:08,700 --> 00:01:15,060
We need to first make the new action type so inside of our car types.

12
00:01:15,060 --> 00:01:23,760
Let's make a new one called Clear item from cart which is equal to the string value of clear item from

13
00:01:23,760 --> 00:01:25,390
cart.

14
00:01:25,400 --> 00:01:33,810
Now what we want to do with the actual action is we want to make a new action that dispatches the new

15
00:01:33,960 --> 00:01:35,790
cleared him from cart that we just made.

16
00:01:36,570 --> 00:01:42,790
So we will call it clear item from car as well which gets an item.

17
00:01:42,810 --> 00:01:46,830
So it's a function that gets an item as a property just like our add item.

18
00:01:47,250 --> 00:01:54,280
And in exactly similar way as our add item action creator we're going to set the type equal to our new

19
00:01:54,280 --> 00:02:02,390
clear item from cart and set the payload equal to the item that we're trying to clear now that we have

20
00:02:02,390 --> 00:02:10,640
this we need to actually update our reducer so that our reducer removes the appropriate item from the

21
00:02:10,640 --> 00:02:19,730
array so inside of our cart reducer we're going to make a new case that will listen to our new action

22
00:02:21,060 --> 00:02:23,560
so this will be our car action type stuff.

23
00:02:23,560 --> 00:02:32,190
Clear item from cart and what it will return is going to be a new object where we spread everything

24
00:02:32,190 --> 00:02:41,900
in our state but we also want to update our cart items so that now it will return a new array with out

25
00:02:42,290 --> 00:02:47,730
any instance of that item that we're trying to clear away.

26
00:02:47,810 --> 00:02:55,090
Now the code that we need to right here in our reducer is going to be a filter if you remember from

27
00:02:55,090 --> 00:03:05,240
filter we're just going to call on our existing car items array that exists on our state right now and

28
00:03:05,240 --> 00:03:09,750
we're going to filter it passing in the appropriate car.

29
00:03:09,760 --> 00:03:20,360
Item and then what we'll say is that if the cart item I.D. does not match the action payload which we

30
00:03:20,360 --> 00:03:25,710
know is the item we're trying to remove I.D. then I want you to keep it.

31
00:03:26,070 --> 00:03:32,790
If that car item I.D. does match the items I.D. that we're trying to remove from our payload then I

32
00:03:32,790 --> 00:03:33,770
want you to filter it out.

33
00:03:34,470 --> 00:03:43,110
Now as you remember filter returns us back anything that yields true inside of the actual function as

34
00:03:43,110 --> 00:03:49,880
the return of the function here what it's saying is that if the car items I.D. does not match the item

35
00:03:49,880 --> 00:03:52,400
we're trying to filter then return true.

36
00:03:52,400 --> 00:03:58,310
So we'll keep that item right because we want to keep any item where the idea is not the one that we're

37
00:03:58,310 --> 00:03:59,510
trying to clear up.

38
00:03:59,600 --> 00:04:05,190
So that's what filter does and it gives us back a new array with this.

39
00:04:05,200 --> 00:04:07,390
We've made our clear item from cart.

40
00:04:07,600 --> 00:04:12,160
We just need to now bind it to our checkout item component.

41
00:04:12,250 --> 00:04:20,220
So what we're going to do is inside of our checkout item component we are going to now import interconnect

42
00:04:20,710 --> 00:04:31,220
because we need to use we need to bind our actual new action to our component very similar to how we

43
00:04:31,220 --> 00:04:43,350
did it with ADD item so we'll just import that in as clear item from cart from our redux folder cart

44
00:04:43,720 --> 00:04:54,300
cart action then we need to make our map dispatch to props which is equal to this function that gets

45
00:04:54,300 --> 00:05:06,720
dispatch from the redux store and then we will return our new clear item and with this clear item function

46
00:05:07,620 --> 00:05:13,480
we are going to set it to pretty much what we had earlier with our ad item.

47
00:05:13,500 --> 00:05:20,150
The only difference is that now we're using our new clear item for cart function.

48
00:05:20,340 --> 00:05:27,790
So we'll make sure to dispatch clear item from cart passing in our item as you see this shape is very

49
00:05:27,790 --> 00:05:32,860
similar to the code that we wrote inside of our collection item.

50
00:05:32,860 --> 00:05:35,550
When we map dispatch our an item.

51
00:05:35,540 --> 00:05:45,310
Function and then we just have to make sure to connect passing info and our map dispatch to props

52
00:05:48,330 --> 00:05:49,470
wrapping our checkout.

53
00:05:49,500 --> 00:05:51,560
Item.

54
00:05:51,650 --> 00:05:54,860
So now we need the cart item.

55
00:05:54,860 --> 00:06:01,650
So instead of destruction these values off here remember by doing this and destruction these values

56
00:06:01,740 --> 00:06:03,600
this way one layer deep.

57
00:06:03,600 --> 00:06:09,090
So we're pulling cart item off the props object and then pulling these values off of the cart item.

58
00:06:09,090 --> 00:06:12,970
We actually don't have access to the car item property.

59
00:06:13,080 --> 00:06:21,090
So what we need to do is we need to again do an explicit return in this function and just make sure

60
00:06:21,090 --> 00:06:29,760
to set the concept of these values inside of the squiggly lines of our function definition and now we'll

61
00:06:29,760 --> 00:06:37,340
have access to our cart item as well as our new clear item function that we're passing in.

62
00:06:37,400 --> 00:06:45,230
So now on our Remove button we can do our on click where we create a new anonymous function that will

63
00:06:45,230 --> 00:06:52,250
call our new clear item function that we're passing in as a prop and we'll pass the cart item in like

64
00:06:52,250 --> 00:06:58,120
so and now we have our clear item working.

65
00:06:58,120 --> 00:07:04,360
So this is very similar to our ad item functionality that we wrote a couple lessons ago except now the

66
00:07:04,420 --> 00:07:11,930
main difference is that our reducer changes its functionality instead of doing our ad item to cart.

67
00:07:12,040 --> 00:07:20,860
We're doing this new filter which returns us a new array with the appropriate item filtered out.

68
00:07:20,930 --> 00:07:25,550
Now if we go back to our application we go back to our shop.

69
00:07:25,780 --> 00:07:32,780
We add some items and let's say I wanted to get rid of brown cowboy if I hit the x.

70
00:07:33,080 --> 00:07:34,850
We see that it got removed.

71
00:07:34,850 --> 00:07:38,150
We see our clear item from car action being fired.

72
00:07:38,390 --> 00:07:46,580
And of course we see our cart cart items array reflecting the new changes and just like that we've now

73
00:07:46,580 --> 00:07:51,780
built in our clear item from cart feature that was actually pretty simple.

74
00:07:51,830 --> 00:07:59,000
It's pretty much just the same pattern that we were used to from writing our ad item feature and you'll

75
00:07:59,000 --> 00:08:04,370
see that much of redux is pretty much just this pattern that we've written twice now.

76
00:08:04,370 --> 00:08:13,580
We mainly want to do something with our reducer passing in some specific object as a payload maybe not

77
00:08:13,580 --> 00:08:14,290
even an object.

78
00:08:14,300 --> 00:08:19,400
Maybe it's some property and what we do is we just want to update our reducer.

79
00:08:19,400 --> 00:08:26,060
So we want to update our state values accordingly depending on what we're getting we'll actually see

80
00:08:26,060 --> 00:08:34,390
this in bit more detail once we add in our arrows and we reuse our add item as well as make a new remove

81
00:08:34,460 --> 00:08:40,490
item feature inside of our checkout item we'll do that in the next lesson.

